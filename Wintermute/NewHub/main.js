/*
This is an expandable Data structure. You can add or remove as many classes, subclasses, and links as you want. But  DO NOT NAME A CLASS OR SUBCLASS "text", please, it will break everything.
*/

data = {
    "Academics": {
        "Tutoring Information": {
            "text": "Tutoring Information",
            "href": "https://drive.google.com/drive/folders/0B5-CXEME0ymbaFhETmVsd2pTTTA?usp=sharing",
            "path": "Academics",
            "tags": "Student, Help, Tutor",
            "audience": "adults"
        },
        "Online Resources": {
            "LibGuides": {
                "text": "LibGuides",
                "href": "http://libguides.nmhschool.org/",
                "path": "Academics",
                "tags": "Academics",
                "audience": "students"
            },
            "NoodleTools (via Okta)": {
                "text": "NoodleTools (via Okta)",
                "href": "https://nmhschool.okta.com/",
                "path": "Academics",
                "tags": "Academics",
                "audience": "students"
            }
        },
        "Managing Courses": {
            "Course Registration Information": {
                "text": "Course Registration Information",
                "href": "/the-hub/column-2/forms-and-reports/academics-and-school-life/course-registration-forms-and-information/course-registration-information",
                "path": "Academics",
                "tags": "Academics",
                "audience": "both"
            },
            "Course Request Worksheet": {
                "text": "Course Request Worksheet",
                "href": "https://nmhschoolorg.finalsite.com/uploaded/The_Hub/ER17-CourseRequest.pdf?1506970945750",
                "path": "Academics",
                "tags": "Academics",
                "audience": "students"
            },
            "NMH Online": {
                "text": "NMH Online",
                "href": "https://community.nmhschool.org/nmhonline-login",
                "path": "Academics",
                "tags": "Academics",
                "audience": "students"
            },
            "Curriculum Guide": {
                "text": "Curriculum Guide",
                "href": "https://issuu.com/nmhschool/docs/2017_curriculum_guide",
                "path": "Academics",
                "tags": "Academics",
                "audience": "both"
            },
            "Academic Courses 2017-18": {
                "text": "Academic Courses 2017-18",
                "href": "https://docs.google.com/spreadsheets/d/1qu1kUzLLnqULtb84PPhHSTmICh5iwF9egfhx2YYubxE/edit#gid=1989217313",
                "path": "Calendars and Schedules",
                "tags": "Courses, Classes",
                "audience": "both"
            },
            "Cocurricular Courses 2017-18": {
                "text": "Cocurricular Courses 2017-18",
                "href": "https://docs.google.com/a/nmhschool.org/spreadsheets/d/1uS0O1bp25Ie75TH6PZVHhbnCMh-d1e9gdlhcUNC1mAA/edit?usp=sharing",
                "path": "Calendars and Schedules",
                "tags": "Courses, Classes",
                "audience": "both"
            },
            "Class Space by Block (faculty)*": {
                "text": "Class Space by Block (faculty)*",
                "href": "http://goo.gl/Yd5G4w",
                "path": "Calendars and Schedules",
                "tags": "Classes, Schedule, Faculty",
                "audience": "adults"
            }
        },
        "Academics At NMH": {
            "Rules and Policies Handbook": {
                "text": "Rules and Policies Handbook",
                "href": "https://nmhschoolorg.finalsite.com/uploaded/The_Hub/NMH_Rules_and_Policies_Fall2017.pdf?1506973026751",
                "path": "Academics",
                "tags": "Academics",
                "audience": "both"
            },
            "NMH A to Z (PDF download)": {
                "text": "NMH A to Z (PDF download)",
                "href": "https://docs.google.com/document/d/1AMKmi-ELSAIN89sW8ZgE22QDPbUU5mnDutmXtM0k8Ww/export?format=pdf",
                "path": "Academics",
                "tags": "Academics",
                "audience": "students"
            },
            "Academic Integrity": {
                "text": "Academic Integrity",
                "href": "https://docs.google.com/document/d/1YmBTG67kTkocrxRqaJJWCHFbPPeeqIU5eHCijJM55i8/edit",
                "path": "Academics",
                "tags": "Academics",
                "audience": "both"
            },
            "Curriculum Guide": {
                "text": "Curriculum Guide",
                "href": "https://issuu.com/nmhschool/docs/2017_curriculum_guide",
                "path": "Academics",
                "tags": "Academics",
                "audience": "both"
            }
        }
    },
    "Agendas": {
        "Facility Hours": {
            "Gym Hours": {
                "text": "Gym Hours",
                "href": "https://docs.google.com/document/d/1TjDOMoc75gsOFzROn6t-As1qABhXuiMfU5S6fxT2aus/edit?pref=2&pli=1",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Mail Center Hours": {
                "text": "Mail Center Hours",
                "href": "/the-hub/column-1/calendars-and-schedules/mail-center-hours",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Alumni Hall Dining Hours": {
                "text": "Alumni Hall Dining Hours",
                "href": "https://docs.google.com/document/d/1pFwgTvAWhT4cDkSM-6WzJE1G4gCglWBK6OJ4eimDuAU/edit",
                "path": "Dining Hall",
                "tags": "Dining",
                "audience": "both"
            },
            "Snack Bar Hours": {
                "text": "Snack Bar Hours",
                "href": "https://docs.google.com/document/d/1gtBCL2v12aZT3_Uu1hKrSEDpX5An_-bWbSm2_m1jTrQ/edit?usp=sharing",
                "path": "Dining Hall",
                "tags": "Dining",
                "audience": "both"
            }
        },
        "Calendars": {
            "Athletics Calendar": {
                "text": "Athletics Calendar",
                "href": "http://www.nmhschool.org/athletics-calendar",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "School Calendar 2017-18": {
                "text": "School Calendar 2017-18",
                "href": "https://docs.google.com/document/d/1kforDWZEplI19w6DVWDcZoQ5wiRWPJ2K2Acr5pzcUeY/export?format=pdf",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Monthly Calendar": {
                "text": "Monthly Calendar",
                "href": "/calendar",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Performing and Visual Arts": {
                "text": "Performing and Visual Arts",
                "href": "https://calendar.google.com/calendar/embed?src=nmhschool.org_rnrgi7p34hug4fnie81jp5perc@group.calendar.google.com&ctz=America/New_York",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            }
        },
        "Special Schedules": {
            "Daily Schedule": {
                "text": "Daily Schedule",
                "href": "http://www.nmhschool.org/uploaded/Academics/2015_NMH-CMAP.pdf",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Final Exam Schedule": {
                "text": "Final Exam Schedule",
                "href": "https://docs.google.com/document/d/12t0Fb2Olu6S-F_pCLKlSZ1W8Ycr-NWR0g_gtTx05X08/edit?usp=sharing",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule",
                "audience": "both"
            },
            "Snow Delay Schedule": {
                "text": "Snow Delay Schedule",
                "href": "https://docs.google.com/document/d/1PTYm5tm104ic4WtQC6EftzfbwXNiI9wj6_1iKkeaNTM/edit",
                "path": "Calendars and Schedules",
                "tags": "Classes, Schedule, Snow",
                "audience": "both"
            }
        },
        "Individuals Schedule": {
            "Student Schedule (students)*": {
                "text": "Student Schedule (students)*",
                "href": "http:////reporting12.nmh.nmhschool.org/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleReportByStudent&amp;rs:Command=Render",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule, Class",
                "audience": "students"
            },
            "Student Schedule (faculty)*": {
                "text": "Student Schedule (faculty)*",
                "href": "http:////reporting12.nmh.nmhschool.org/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleReport&amp;rs:Command=Render",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule, Advisor",
                "audience": "adults"
            },
            "Student Schedule List (students)*": {
                "text": "Student Schedule List (students)*",
                "href": "http:////reporting12/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentSchedulebyStudentListFormat&rs:Command=Render",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule, Class",
                "audience": "students"
            },
            "Student Schedule List (faculty)*": {
                "text": "Student Schedule List (faculty)*",
                "href": "http://reporting12/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleListFormat&rs:Command=Render",
                "path": "Calendars and Schedules",
                "tags": "Calendar, Schedule, Advisor",
                "audience": "adults"
            },
            "Faculty Schedules (faculty)*": {
                "text": "Faculty Schedules (faculty)*",
                "href": "http://reporting12.nmh.nmhschool.org/ReportServer?%2fStudent+and+Faculty+Schedules%2fFacultyScheduleReport&rs:Command=Render",
                "path": "Employees",
                "tags": "Calendar, Schedule",
                "audience": "adults"
            }
        }
    },
    "College Counselling": {
        "Naviance": {
            "Naviance for Students": {
                "text": "Naviance for Students",
                "href": "https://connection.naviance.com/nmhschool",
                "path": "College Counseling",
                "tags": "College Counseling, College, Naviance",
                "audience": "students"
            },
            "Naviance for Teachers": {
                "text": "Naviance for Teachers",
                "href": "https://succeed.naviance.com/auth/signin",
                "path": "College Counseling",
                "tags": "College Counseling, College, Naviance",
                "audience": "adults"
            }
        },
        "College Visit Request": {
            "text": "College Visit Request",
            "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVLJTsMwEL0j8Q%252BW79lYi9UEFRCiEktEAwduxnETF9sTPE4Lf4%252BbUlEOcH1%252B85bxjM8%252FjCZL6VCBzWkWp5RIK6BWtsnpU3Udjeh5sb83Rm50xya9b%252B2jfO8lehImLbLhIae9sww4KmSWG4nMCzab3N2ygzhlnQMPAjQl06uc6oUW0GjdvbWNNs2bMcAXteo6IxaqbuyraNvadIKS522sg3WsKWIvpxY9tz5AaXYapcfRYValI5adsaOTF0rKb6cLZTcN%252Fov1uiEhu6mqMiofZtUgsFS1dPeBndMGQlAZCzBr%252B5IjqmWA51yjpGSCKJ0PAS%252FBYm%252Bkm0m3VEI%252BPd7mtPW%252BQ5Ykq9Uq%252FpFJeGJNi6IF0DG4JuECaTEslw393M5W%252F0%252FPt%252B60%252BFt%252FnOxIF9%252BfuO42vSpBK%252FFJJlrD6tJJ7kMx7%252FrQ6xqc4f5v9yzOBkTV0Xygst5iJ4WaK1lTkhQb19%252FXEm7oCw%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1AQhySwK4ITUWs9vxv7JomuO_fw3d3v09BUG_OeB62JU%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1AQhySwK4ITUWs9vxv7JomuO_fw3d3v09BUG_OeB62JU%25252Fviewform%2526ltmpl%253Dforms",
            "path": "College Counseling",
            "tags": "College",
            "audience": "both"
        },
        "Teacher Recommendation Request": {
            "text": "Teacher Recommendation Request",
            "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT%252BMwEL0j7X%252BwfM9XEQJZTVABISqxS9QGDtyMM03ctT1dj9Mu%252Fx43LVr2QK9vnt%252FHeKbXf61hW%252FCk0ZW8SHPOwClstetK%252FtzcJ1f8uvpxNiVpzUbMhtC7BfwZgAKLLx2JcVDywTuBkjQJJy2QCEosZz8fxSTNxcZjQIWGs%252Fldyd1vadbaqL61bxZg1UKPLYDtoqWWFuNc9%252B16zdnLZ6zJPtacaIC5oyBdiFBeXCb5RXJeNPmVmORicvnKWX10utHu0OBUrLcDicRD09RJ%252FbRsRoGtbsH%252FiuySd4idgVSh3dvXkkhvI7yShoCzGRH4EAPeoqPBgl%252BC32oFz4vHkvchbEhk2W63S%252F%252FJZDJztifVI5oUfZdJRbwalyvGfv7LVk%252Bnl5%252FuvPpef5p9ka6On7jvNr%252Br0Wj1zmbG4O7WgwyxWPBD7HWP3srwvXuRFiOi22Q1UsXgaANKrzS0nGXVwfX%252Fa4k39AE%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1uhuoBVvrg0gDcujsuaZfCot2fJkN7I1WxncPjwDIoNo%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1uhuoBVvrg0gDcujsuaZfCot2fJkN7I1WxncPjwDIoNo%25252Fviewform%2526ltmpl%253Dforms",
            "path": "College Counseling",
            "tags": "College ",
            "audience": "both"
        }
    },
    "Dining": {
        "Weekly Menu": {
            "text": "Weekly Menu",
            "href": "https://docs.google.com/a/nmhschool.org/document/d/1QnExoRcHm0YR3zNhYzKDBkbnC3kXCTmf-DpdkWkHHrY/pub",
            "path": "Dining Hall",
            "tags": "Dining",
            "audience": "both"
        },
        "Alumni Hall Dining Hours": {
            "text": "Alumni Hall Dining Hours",
            "href": "https://docs.google.com/document/d/1pFwgTvAWhT4cDkSM-6WzJE1G4gCglWBK6OJ4eimDuAU/edit",
            "path": "Dining Hall",
            "tags": "Dining",
            "audience": "both"
        },
        "Snack Bar Hours": {
            "text": "Snack Bar Hours",
            "href": "https://docs.google.com/document/d/1gtBCL2v12aZT3_Uu1hKrSEDpX5An_-bWbSm2_m1jTrQ/edit?usp=sharing",
            "path": "Dining Hall",
            "tags": "Dining",
            "audience": "both"
        }
    },
    "Student Life": {
        "IT / Phone Help Desk": {
            "text": "IT / Phone Help Desk",
            "href": "http://helpdesk.nmhschool.org/TrackItWeb/SelfService/Login/?showErrors=true",
            "path": "Student Life",
            "tags": "IT, Support",
            "audience": "both"
        },
        "WNMH Radio": {
            "text": "WNMH Radio",
            "href": "http://radio.securenetsystems.net/v5/wnmh",
            "path": "Student Life",
            "tags": "Radio, Miscellaneous",
            "audience": "students"
        },
        "NMH News": {
            "text": "NMH News",
            "href": "/news-events/news-stories",
            "path": "Student Life",
            "tags": "Communications",
            "audience": "both"
        },
        "Work Order Request": {
            "text": "Work Order Request",
            "href": "https://www.myschoolbuilding.com/myschoolbuilding/mygateway.asp?acctnum=594117030",
            "path": "Student Life",
            "tags": "Workjob",
            "audience": "adults"
        },
        "Workjob Swap Form": {
            "text": "Workjob Swap Form",
            "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT9wwEL1X4j9YvueLFhVZm6AtCHUlaCM2cODmdSaOWccTPM5u%252B%252B%252FxZkGlBzj6%252Bfl9jGdx8WewbAeeDLqSF2nOGTiFrXG65PfNdXLOL6qTLwuSgx3Fcgq9u4PnCSiw%252BNKRmC9KPnknUJIh4eQAJIIS6%252BXtjThNczF6DKjQcra6KrlVm1Fvt53RWmOLZosOhr7VtnUmHjt8ajc6%252BnP28Bbr9BBrRTTBylGQLkQoL74n%252BVnytWjyc%252FHtTOT5I2f1q9MP444NPou1OZJI%252FGyaOql%252Fr5tZYGda8L8iu%252BQaUVtIFQ4H%252B1oSmV2EO2kJOFsSgQ8x4CU6mgbwa%252FA7o%252BD%252B7qbkfQgjiSzb7%252FfpP5lMZm7oSfWINkWvM6mIV%252FNwxdzPv5vq5%252BnlmzuvPtZfZO%252Bkq9dPPHRbXdVojfrLltbi%252FtKDDLFY8FPsdY1%252BkOFj9yItZsS0STdTxeRoBGU6Ay1nWXV0%252FX9b4g69AA%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1tz0pveaMoZKMaCyKbM9-gZHpnPiRmeayQpzeuE2al3U%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1tz0pveaMoZKMaCyKbM9-gZHpnPiRmeayQpzeuE2al3U%25252Fviewform%2526ltmpl%253Dforms",
            "path": "Student Life",
            "tags": "Workjob",
            "audience": "students"
        },
        "Lost and Found": {
            "text": "Lost and Found",
            "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT9wwEL1X6n%252BwfM8XBYGsTdACQqxEacSGHrh5nUli1vakHme3%252Fff1ZkGlB7g%252BP7%252BPmVlc%252FraG7cCTRlfyIs05A6ew1a4v%252BVNzm1zwy%252BrrlwVJa0axnMLgHuHXBBRY%252FOlIzA8ln7wTKEmTcNICiaDEevn9XpykuRg9BlRoOFvdlHw7jANauem3L53tUHZOA26i6Tg6ULrvYABot5qzn2%252BxTg6xVkQTrBwF6UKE8uI8yc%252BSb0WTX4jTM3FaPHNWvzpdaXds8FmszZFE4q5p6qT%252BsW5mgZ1uwT9Edsl7xN5AqtAe7GtJpHcR7qQh4GxJBD7EgNfoaLLg1%252BB3WsHT433JhxBGElm23%252B%252FTfzKZzJwdSA2IJkXfZ1IRr%252BbhirmffzfVz9PLN3defay%252FyN5JV69LPHRb3dRotPrDlsbg%252FtqDDLFY8FPsdYveyvCxe5EWM6LbpJupYnI0xtV1GlrOsuro%252Bv%252B1xBv6Cw%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1QTSjkGWqLhegLyWpj2ltT8l4NNMBhdPkntIrwrtYvnc%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1QTSjkGWqLhegLyWpj2ltT8l4NNMBhdPkntIrwrtYvnc%25252Fviewform%2526ltmpl%253Dforms",
            "path": "Student Life",
            "tags": "Student, Miscellaneous",
            "audience": "both"
        }
    },
    "Employees": {
        "Documents": {
            "NMH Letterhead Template": {
                "text": "NMH Letterhead Template",
                "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1-TKXvnRkU32RnPMWbf_xSyzjqdeT8gdNQs9dc3rUbqE%2Fcopy&followup=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1-TKXvnRkU32RnPMWbf_xSyzjqdeT8gdNQs9dc3rUbqE%2Fcopy&ltmpl=docs&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
                "path": "Employees",
                "tags": "Letterhead, Template",
                "audience": "adults"
            },
            "Ethics Point": {
                "text": "Ethics Point",
                "href": "https://secure.ethicspoint.com/domain/media/en/gui/31719/index.html",
                "path": "Employees",
                "tags": "HR, Employee",
                "audience": "adults"
            },
            "Working at NMH": {
                "text": "Working at NMH",
                "href": "https://docs.google.com/a/nmhschool.org/document/d/1ETkaRLIt2TgcaifufnUcuPnSRRc34SHifj3zvCK0l4Q/edit?usp=sharing",
                "path": "Employees",
                "tags": "HR, Employee",
                "audience": "adults"
            },
            "By-laws of the Faculty": {
                "text": "By-laws of the Faculty",
                "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F15J0DmmcIE6dZTHXpxUDOQQm_g1OWa4KHbB0tPDT7eWg%2Fedit&followup=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F15J0DmmcIE6dZTHXpxUDOQQm_g1OWa4KHbB0tPDT7eWg%2Fedit&ltmpl=docs&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
                "path": "Employees",
                "tags": "Faculty, Governance",
                "audience": "adults"
            },
            "Committee Meeting Minutes": {
                "text": "Committee Meeting Minutes",
                "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B5-CXEME0ymbN0FlMVNXWGhUcTA%3Fusp%3Dsharing&followup=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B5-CXEME0ymbN0FlMVNXWGhUcTA%3Fusp%3Dsharing&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
                "path": "Employees",
                "tags": "Faculty, Governance",
                "audience": "adults"
            }
        },
        "Tools": {
            "Parent Update": {
                "text": "Parent Update",
                "href": "/parents/parent-update-e-newsletter",
                "path": "Employees",
                "tags": "Communications",
                "audience": "adults"
            },
            "ADP Login page": {
                "text": "ADP Login page",
                "href": "https://workforcenow.adp.com/",
                "path": "Employees",
                "tags": "HR, Employee",
                "audience": "adults"
            },
            "Governance Committee Self Evals": {
                "text": "Governance Committee Self Evals",
                "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B2KItIZg1032WDdib3VKTS1MVG8&followup=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B2KItIZg1032WDdib3VKTS1MVG8&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
                "path": "Employees",
                "tags": "Faculty, Governance",
                "audience": "adults"
            },
            "FAWeb": {
                "text": "FAWeb",
                "href": "https://faweb.nmhschool.org/FAWeb7/forms/login.aspx?ReturnUrl=%2fFAWeb7%2fDefault.aspx",
                "path": "Employees",
                "tags": "Faculty, Teaching, Attendance",
                "audience": "adults"
            },
            "Online faculty and staff directory": {
                "text": "Online faculty and staff directory",
                "href": "/the-hub/column-3/directory",
                "path": "Employees",
                "tags": "Directory",
                "audience": "both"
            },
            "Request Space/Instruction (Faculty)": {
                "text": "Request Space/Instruction (Faculty)",
                "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVLJTsMwEL0j8Q%252BR79kKCLCaoAJCVGKJaODAzTgT1%252BB4gsdp4e9xUxBwgOvz81tmZnry1ploBY402oLlScYisBIbbVXB7uuL%252BIidlLs7UxKd6fls8Et7B68DkI%252FCT0t8fCjY4CxHQZq4FR0Q95IvZtdXfJJkvHfoUaJh0fy8YLJVQgsEaVuhnvoGnqXCF%252BykapoXqxQ2vdRKNix6%252BIo12cSaEw0wt%252BSF9QHK8sM4O4j38jo75vs5nxw%252Fsqj6dDrVdtvgv1hPWxLxy7qu4up2UY8CK92AuwnsgilEZSCR2G3sK0GkVwFuhSFg0YwInA8Bz9DS0IFbgFtpCfd3VwVbet8TT9P1ep18y6Qitd2S5BLRJOhUKiSxchwuH%252Fu5H1P9P734cmfl3%252FrT9Id0%252BbnETbf5eYVGy%252FdoZgyuzxwIH4p5N4ReF%252Bg64f92z5N8RHQTtyOVD5Z6kLrVELaWllvX39cSbugD%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252Fe%25252F1FAIpQLSekXOKz16xK__ldJgQGnVCEUklyradoAD6MTgjGHWWvD82R2g%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252Fe%25252F1FAIpQLSekXOKz16xK__ldJgQGnVCEUklyradoAD6MTgjGHWWvD82R2g%25252Fviewform%2526ltmpl%253Dforms",
                "path": "Employees",
                "tags": "Calendar, Schedules, Reservations",
                "audience": "adults"
            }
        }
    }
}

var searchResults = [];
var searchString;
$(document).ready(function() {

    //$('.container').on('click', '.collapsible-header', changeCSS);

    function changeCSS() {
        $(this).parent().siblings().find('.collapsible-header').toggleClass('notVis');
    }

    var main = $(".maincont");

    populateDataStructure(data, main);

    setInterval(function() {
        var ss = $("#searchString").val()
        if (ss !== searchString) {
            searchFun(ss);
            searchString = ss;
        }
    }, 1)
});

function populateDataStructure(dict, elem) {
    var base = $("<li class=''><div class='collapsible-header'></div><div class='collapsible-body subCat' style='display: block;'></div></li>");
    var catagoryBase = $("<ul class='collapsible' data-collapsible='accordion'></ul>");
    for (var key in dict) {
        if (dict.hasOwnProperty(key)) {
            if (!dict[key].hasOwnProperty("text")) {
                var temp = $("<li class='subCatCont'><div class='collapsible-header'>" + key + "</div><div class='collapsible-body subCat' style='display: block;'><ul class='collapsible subclass' data-collapsible='accordion'></ul></div></li>");
                elem.append(temp);
                populateDataStructure(dict[key], elem.find(temp).find('.subclass'));
            } else {
                elem.append($("<li class=''><div class='collapsible-header'><a href='" + dict[key]['href'] + "'>" + key + "</div></li>"));

            }
        }
    }
}

function searchFun(ss) {
    $(".maincont").removeClass("resultsIn")
    searchResults = [];
    searchFolder(data, ss);
    searchResults = returnNoDups(searchResults);
    if (ss.length > 2 && searchResults.length < 30) {
        if(searchResults.length > 8){
            $(".maincont").addClass("resultsIn");
        }
        $(".results ul").text("");
        for (var i = 0; i < searchResults.length; i++) {
            item = searchResults[i];
            var entry = $("<li><a href='" + item["href"] + "'>" + item["text"] + "</a></li>");
            $(".results ul").append(entry);
        }
    } else {
        $(".results ul").text("");
        $(".maincont").removeClass("resultsIn");
    }
}

function searchFolder(obj, ss) {
    for (var key in obj) {
        if (!obj[key].hasOwnProperty("text")) {
            searchFolder(obj[key], ss);
        } else {
            for (var ky in obj[key]) {
                if (obj[key][ky].toLowerCase().includes(ss.toLowerCase())) {
                    searchResults.push(obj[key]);
                    break;
                }
            }
        }
    }
}
function returnNoDups(ls) {
    for(var i = 0;i < ls.length; i++){
        for(var j = i+1;j<ls.length;j++) {
            if(ls[i]["href"] == ls[j]["href"]){
                 ls.splice(j,1);
                 j--;
            }
        }
    }
    return ls;
}
