$(document).ready(function() {

  var links = [{
      "text": "Tutoring Information",
      "href": "https://drive.google.com/drive/folders/0B5-CXEME0ymbaFhETmVsd2pTTTA?usp=sharing",
      "category": "Academics",
      "tags": "Student, Help, Tutor",
      "audience": "adults"
    },
    {
      "text": "Course Registration Information",
      "href": "/the-hub/column-2/forms-and-reports/academics-and-school-life/course-registration-forms-and-information/course-registration-information",
      "category": "Academics",
      "tags": "Academics",
      "audience": "both"
    },
    {
      "text": "Course Request Worksheet",
      "href": "https://nmhschoolorg.finalsite.com/uploaded/The_Hub/ER17-CourseRequest.pdf?1506970945750",
      "category": "Academics",
      "tags": "Academics",
      "audience": "students"
    },
    {
      "text": "NMH Online",
      "href": "https://community.nmhschool.org/nmhonline-login",
      "category": "Academics",
      "tags": "Academics",
      "audience": "students"
    },
    {
      "text": "Curriculum Guide",
      "href": "https://issuu.com/nmhschool/docs/2017_curriculum_guide",
      "category": "Academics",
      "tags": "Academics",
      "audience": "both"
    },
    {
      "text": "Rules and Policies Handbook",
      "href": "https://nmhschoolorg.finalsite.com/uploaded/The_Hub/NMH_Rules_and_Policies_Fall2017.pdf?1506973026751",
      "category": "Academics",
      "tags": "Academics",
      "audience": "both"
    },
    {
      "text": "NMH A to Z (PDF download)",
      "href": "https://docs.google.com/document/d/1AMKmi-ELSAIN89sW8ZgE22QDPbUU5mnDutmXtM0k8Ww/export?format=pdf",
      "category": "Academics",
      "tags": "Academics",
      "audience": "students"
    },
    {
      "text": "LibGuides",
      "href": "http://libguides.nmhschool.org/",
      "category": "Academics",
      "tags": "Academics",
      "audience": "students"
    },
    {
      "text": "NoodleTools (via Okta)",
      "href": "https://nmhschool.okta.com/",
      "category": "Academics",
      "tags": "Academics",
      "audience": "students"
    },
    {
      "text": "Academic Integrity",
      "href": "https://docs.google.com/document/d/1YmBTG67kTkocrxRqaJJWCHFbPPeeqIU5eHCijJM55i8/edit",
      "category": "Academics",
      "tags": "Academics",
      "audience": "both"
    },
    {
      "text": "Athletics Calendar",
      "href": "http://www.nmhschool.org/athletics-calendar",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Daily Schedule",
      "href": "http://www.nmhschool.org/uploaded/Academics/2015_NMH-CMAP.pdf",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Gym Hours",
      "href": "https://docs.google.com/document/d/1TjDOMoc75gsOFzROn6t-As1qABhXuiMfU5S6fxT2aus/edit?pref=2&pli=1",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "School Calendar 2017-18",
      "href": "https://docs.google.com/document/d/1kforDWZEplI19w6DVWDcZoQ5wiRWPJ2K2Acr5pzcUeY/export?format=pdf",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Monthly Calendar",
      "href": "/calendar",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Final Exam Schedule",
      "href": "https://docs.google.com/document/d/12t0Fb2Olu6S-F_pCLKlSZ1W8Ycr-NWR0g_gtTx05X08/edit?usp=sharing",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Performing and Visual Arts",
      "href": "https://calendar.google.com/calendar/embed?src=nmhschool.org_rnrgi7p34hug4fnie81jp5perc@group.calendar.google.com&ctz=America/New_York",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    },
    {
      "text": "Student Schedule (students)*",
      "href": "http:////reporting12.nmh.nmhschool.org/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleReportByStudent&amp;rs:Command=Render",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule, Class",
      "audience": "students"
    },
    {
      "text": "Student Schedule (faculty)*",
      "href": "http:////reporting12.nmh.nmhschool.org/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleReport&amp;rs:Command=Render",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule, Advisor",
      "audience": "adults"
    },
    {
      "text": "Student Schedule List (students)*",
      "href": "http:////reporting12/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentSchedulebyStudentListFormat&rs:Command=Render",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule, Class",
      "audience": "students"
    },
    {
      "text": "Student Schedule List (faculty)*",
      "href": "http://reporting12/ReportServer/Pages/ReportViewer.aspx?%2fStudent+and+Faculty+Schedules%2fStudentScheduleListFormat&rs:Command=Render",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule, Advisor",
      "audience": "adults"
    },
    {
      "text": "Academic Courses 2017-18",
      "href": "https://docs.google.com/spreadsheets/d/1qu1kUzLLnqULtb84PPhHSTmICh5iwF9egfhx2YYubxE/edit#gid=1989217313",
      "category": "Calendars and Schedules",
      "tags": "Courses, Classes",
      "audience": "both"
    },
    {
      "text": "Cocurricular Courses 2017-18",
      "href": "https://docs.google.com/a/nmhschool.org/spreadsheets/d/1uS0O1bp25Ie75TH6PZVHhbnCMh-d1e9gdlhcUNC1mAA/edit?usp=sharing",
      "category": "Calendars and Schedules",
      "tags": "Courses, Classes",
      "audience": "both"
    },
    {
      "text": "Class Space by Block (faculty)*",
      "href": "http://goo.gl/Yd5G4w",
      "category": "Calendars and Schedules",
      "tags": "Classes, Schedule, Faculty",
      "audience": "adults"
    },
    {
      "text": "Snow Delay Schedule",
      "href": "https://docs.google.com/document/d/1PTYm5tm104ic4WtQC6EftzfbwXNiI9wj6_1iKkeaNTM/edit",
      "category": "Calendars and Schedules",
      "tags": "Classes, Schedule, Snow",
      "audience": "both"
    },
    {
      "text": "Naviance for Students",
      "href": "https://connection.naviance.com/nmhschool",
      "category": "College Counseling",
      "tags": "College Counseling, College, Naviance",
      "audience": "students"
    },
    {
      "text": "Naviance for Teachers",
      "href": "https://succeed.naviance.com/auth/signin",
      "category": "College Counseling",
      "tags": "College Counseling, College, Naviance",
      "audience": "adults"
    },
    {
      "text": "College Visit Request",
      "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVLJTsMwEL0j8Q%252BW79lYi9UEFRCiEktEAwduxnETF9sTPE4Lf4%252BbUlEOcH1%252B85bxjM8%252FjCZL6VCBzWkWp5RIK6BWtsnpU3Udjeh5sb83Rm50xya9b%252B2jfO8lehImLbLhIae9sww4KmSWG4nMCzab3N2ygzhlnQMPAjQl06uc6oUW0GjdvbWNNs2bMcAXteo6IxaqbuyraNvadIKS522sg3WsKWIvpxY9tz5AaXYapcfRYValI5adsaOTF0rKb6cLZTcN%252Fov1uiEhu6mqMiofZtUgsFS1dPeBndMGQlAZCzBr%252B5IjqmWA51yjpGSCKJ0PAS%252FBYm%252Bkm0m3VEI%252BPd7mtPW%252BQ5Ykq9Uq%252FpFJeGJNi6IF0DG4JuECaTEslw393M5W%252F0%252FPt%252B60%252BFt%252FnOxIF9%252BfuO42vSpBK%252FFJJlrD6tJJ7kMx7%252FrQ6xqc4f5v9yzOBkTV0Xygst5iJ4WaK1lTkhQb19%252FXEm7oCw%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1AQhySwK4ITUWs9vxv7JomuO_fw3d3v09BUG_OeB62JU%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1AQhySwK4ITUWs9vxv7JomuO_fw3d3v09BUG_OeB62JU%25252Fviewform%2526ltmpl%253Dforms",
      "category": "College Counseling",
      "tags": "College",
      "audience": "both"
    },
    {
      "text": "Teacher Recommendation Request",
      "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT%252BMwEL0j7X%252BwfM9XEQJZTVABISqxS9QGDtyMM03ctT1dj9Mu%252Fx43LVr2QK9vnt%252FHeKbXf61hW%252FCk0ZW8SHPOwClstetK%252FtzcJ1f8uvpxNiVpzUbMhtC7BfwZgAKLLx2JcVDywTuBkjQJJy2QCEosZz8fxSTNxcZjQIWGs%252Fldyd1vadbaqL61bxZg1UKPLYDtoqWWFuNc9%252B16zdnLZ6zJPtacaIC5oyBdiFBeXCb5RXJeNPmVmORicvnKWX10utHu0OBUrLcDicRD09RJ%252FbRsRoGtbsH%252FiuySd4idgVSh3dvXkkhvI7yShoCzGRH4EAPeoqPBgl%252BC32oFz4vHkvchbEhk2W63S%252F%252FJZDJztifVI5oUfZdJRbwalyvGfv7LVk%252Bnl5%252FuvPpef5p9ka6On7jvNr%252Br0Wj1zmbG4O7WgwyxWPBD7HWP3srwvXuRFiOi22Q1UsXgaANKrzS0nGXVwfX%252Fa4k39AE%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1uhuoBVvrg0gDcujsuaZfCot2fJkN7I1WxncPjwDIoNo%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1uhuoBVvrg0gDcujsuaZfCot2fJkN7I1WxncPjwDIoNo%25252Fviewform%2526ltmpl%253Dforms",
      "category": "College Counseling",
      "tags": "College ",
      "audience": "both"
    },
    {
      "text": "Weekly Menu",
      "href": "https://docs.google.com/a/nmhschool.org/document/d/1QnExoRcHm0YR3zNhYzKDBkbnC3kXCTmf-DpdkWkHHrY/pub",
      "category": "Dining Hall",
      "tags": "Dining",
      "audience": "both"
    },
    {
      "text": "Alumni Hall Dining Hours",
      "href": "https://docs.google.com/document/d/1pFwgTvAWhT4cDkSM-6WzJE1G4gCglWBK6OJ4eimDuAU/edit",
      "category": "Dining Hall",
      "tags": "Dining",
      "audience": "both"
    },
    {
      "text": "Snack Bar Hours",
      "href": "https://docs.google.com/document/d/1gtBCL2v12aZT3_Uu1hKrSEDpX5An_-bWbSm2_m1jTrQ/edit?usp=sharing",
      "category": "Dining Hall",
      "tags": "Dining",
      "audience": "both"
    },
    {
      "text": "NMH Letterhead Template",
      "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1-TKXvnRkU32RnPMWbf_xSyzjqdeT8gdNQs9dc3rUbqE%2Fcopy&followup=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1-TKXvnRkU32RnPMWbf_xSyzjqdeT8gdNQs9dc3rUbqE%2Fcopy&ltmpl=docs&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
      "category": "Employees",
      "tags": "Letterhead, Template",
      "audience": "adults"
    },
    {
      "text": "Parent Update",
      "href": "/parents/parent-update-e-newsletter",
      "category": "Employees",
      "tags": "Communications",
      "audience": "adults"
    },
    {
      "text": "ADP Login page",
      "href": "https://workforcenow.adp.com/",
      "category": "Employees",
      "tags": "HR, Employee",
      "audience": "adults"
    },
    {
      "text": "Ethics Point",
      "href": "https://secure.ethicspoint.com/domain/media/en/gui/31719/index.html",
      "category": "Employees",
      "tags": "HR, Employee",
      "audience": "adults"
    },
    {
      "text": "Working at NMH",
      "href": "https://docs.google.com/a/nmhschool.org/document/d/1ETkaRLIt2TgcaifufnUcuPnSRRc34SHifj3zvCK0l4Q/edit?usp=sharing",
      "category": "Employees",
      "tags": "HR, Employee",
      "audience": "adults"
    },
    {
      "text": "By-laws of the Faculty",
      "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F15J0DmmcIE6dZTHXpxUDOQQm_g1OWa4KHbB0tPDT7eWg%2Fedit&followup=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F15J0DmmcIE6dZTHXpxUDOQQm_g1OWa4KHbB0tPDT7eWg%2Fedit&ltmpl=docs&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
      "category": "Employees",
      "tags": "Faculty, Governance",
      "audience": "adults"
    },
    {
      "text": "Committee Meeting Minutes",
      "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B5-CXEME0ymbN0FlMVNXWGhUcTA%3Fusp%3Dsharing&followup=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B5-CXEME0ymbN0FlMVNXWGhUcTA%3Fusp%3Dsharing&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
      "category": "Employees",
      "tags": "Faculty, Governance",
      "audience": "adults"
    },
    {
      "text": "Governance Committee Self Evals",
      "href": "https://accounts.google.com/signin/v2/sl/pwd?service=wise&passive=1209600&continue=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B2KItIZg1032WDdib3VKTS1MVG8&followup=https%3A%2F%2Fdrive.google.com%2Fdrive%2Ffolders%2F0B2KItIZg1032WDdib3VKTS1MVG8&flowName=GlifWebSignIn&flowEntry=ServiceLogin",
      "category": "Employees",
      "tags": "Faculty, Governance",
      "audience": "adults"
    },
    {
      "text": "FAWeb",
      "href": "https://faweb.nmhschool.org/FAWeb7/forms/login.aspx?ReturnUrl=%2fFAWeb7%2fDefault.aspx",
      "category": "Employees",
      "tags": "Faculty, Teaching, Attendance",
      "audience": "adults"
    },
    {
      "text": "Online faculty and staff directory",
      "href": "/the-hub/column-3/directory",
      "category": "Employees",
      "tags": "Directory",
      "audience": "both"
    },
    {
      "text": "Request Space/Instruction (Faculty)",
      "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVLJTsMwEL0j8Q%252BR79kKCLCaoAJCVGKJaODAzTgT1%252BB4gsdp4e9xUxBwgOvz81tmZnry1ploBY402oLlScYisBIbbVXB7uuL%252BIidlLs7UxKd6fls8Et7B68DkI%252FCT0t8fCjY4CxHQZq4FR0Q95IvZtdXfJJkvHfoUaJh0fy8YLJVQgsEaVuhnvoGnqXCF%252BykapoXqxQ2vdRKNix6%252BIo12cSaEw0wt%252BSF9QHK8sM4O4j38jo75vs5nxw%252Fsqj6dDrVdtvgv1hPWxLxy7qu4up2UY8CK92AuwnsgilEZSCR2G3sK0GkVwFuhSFg0YwInA8Bz9DS0IFbgFtpCfd3VwVbet8TT9P1ep18y6Qitd2S5BLRJOhUKiSxchwuH%252Fu5H1P9P734cmfl3%252FrT9Id0%252BbnETbf5eYVGy%252FdoZgyuzxwIH4p5N4ReF%252Bg64f92z5N8RHQTtyOVD5Z6kLrVELaWllvX39cSbugD%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252Fe%25252F1FAIpQLSekXOKz16xK__ldJgQGnVCEUklyradoAD6MTgjGHWWvD82R2g%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252Fe%25252F1FAIpQLSekXOKz16xK__ldJgQGnVCEUklyradoAD6MTgjGHWWvD82R2g%25252Fviewform%2526ltmpl%253Dforms",
      "category": "Employees",
      "tags": "Calendar, Schedules, Reservations",
      "audience": "adults"
    },
    {
      "text": "IT / Phone Help Desk",
      "href": "http://helpdesk.nmhschool.org/TrackItWeb/SelfService/Login/?showErrors=true",
      "category": "Student Life",
      "tags": "IT, Support",
      "audience": "both"
    },
    {
      "text": "WNMH Radio",
      "href": "http://radio.securenetsystems.net/v5/wnmh",
      "category": "Student Life",
      "tags": "Radio, Miscellaneous",
      "audience": "students"
    },
    {
      "text": "NMH News",
      "href": "/news-events/news-stories",
      "category": "Student Life",
      "tags": "Communications",
      "audience": "both"
    },
    {
      "text": "Work Order Request",
      "href": "https://www.myschoolbuilding.com/myschoolbuilding/mygateway.asp?acctnum=594117030",
      "category": "Student Life",
      "tags": "Workjob",
      "audience": "adults"
    },
    {
      "text": "Workjob Swap Form",
      "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT9wwEL1X4j9YvueLFhVZm6AtCHUlaCM2cODmdSaOWccTPM5u%252B%252B%252FxZkGlBzj6%252Bfl9jGdx8WewbAeeDLqSF2nOGTiFrXG65PfNdXLOL6qTLwuSgx3Fcgq9u4PnCSiw%252BNKRmC9KPnknUJIh4eQAJIIS6%252BXtjThNczF6DKjQcra6KrlVm1Fvt53RWmOLZosOhr7VtnUmHjt8ajc6%252BnP28Bbr9BBrRTTBylGQLkQoL74n%252BVnytWjyc%252FHtTOT5I2f1q9MP444NPou1OZJI%252FGyaOql%252Fr5tZYGda8L8iu%252BQaUVtIFQ4H%252B1oSmV2EO2kJOFsSgQ8x4CU6mgbwa%252FA7o%252BD%252B7qbkfQgjiSzb7%252FfpP5lMZm7oSfWINkWvM6mIV%252FNwxdzPv5vq5%252BnlmzuvPtZfZO%252Bkq9dPPHRbXdVojfrLltbi%252FtKDDLFY8FPsdY1%252BkOFj9yItZsS0STdTxeRoBGU6Ay1nWXV0%252FX9b4g69AA%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1tz0pveaMoZKMaCyKbM9-gZHpnPiRmeayQpzeuE2al3U%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1tz0pveaMoZKMaCyKbM9-gZHpnPiRmeayQpzeuE2al3U%25252Fviewform%2526ltmpl%253Dforms",
      "category": "Student Life",
      "tags": "Workjob",
      "audience": "students"
    },
    {
      "text": "Lost and Found",
      "href": "https://nmhschool.okta.com/login/login.htm?fromURI=%2Fapp%2Fgoogle%2Fkw7f1lbcBHWYLFVGIDTM%2Fsso%2Fsaml%3FSAMLRequest%3DfVJNT9wwEL1X6n%252BwfM8XBYGsTdACQqxEacSGHrh5nUli1vakHme3%252Fff1ZkGlB7g%252BP7%252BPmVlc%252FraG7cCTRlfyIs05A6ew1a4v%252BVNzm1zwy%252BrrlwVJa0axnMLgHuHXBBRY%252FOlIzA8ln7wTKEmTcNICiaDEevn9XpykuRg9BlRoOFvdlHw7jANauem3L53tUHZOA26i6Tg6ULrvYABot5qzn2%252BxTg6xVkQTrBwF6UKE8uI8yc%252BSb0WTX4jTM3FaPHNWvzpdaXds8FmszZFE4q5p6qT%252BsW5mgZ1uwT9Edsl7xN5AqtAe7GtJpHcR7qQh4GxJBD7EgNfoaLLg1%252BB3WsHT433JhxBGElm23%252B%252FTfzKZzJwdSA2IJkXfZ1IRr%252BbhirmffzfVz9PLN3defay%252FyN5JV69LPHRb3dRotPrDlsbg%252FtqDDLFY8FPsdYveyvCxe5EWM6LbpJupYnI0xtV1GlrOsuro%252Bv%252B1xBv6Cw%253D%253D%26RelayState%3Dhttps%253A%252F%252Fwww.google.com%252Fa%252Fnmhschool.org%252FServiceLogin%253Fservice%253Dwise%2526passive%253Dtrue%2526continue%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1QTSjkGWqLhegLyWpj2ltT8l4NNMBhdPkntIrwrtYvnc%25252Fviewform%2526followup%253Dhttps%25253A%25252F%25252Fdocs.google.com%25252Fa%25252Fnmhschool.org%25252Fforms%25252Fd%25252F1QTSjkGWqLhegLyWpj2ltT8l4NNMBhdPkntIrwrtYvnc%25252Fviewform%2526ltmpl%253Dforms",
      "category": "Student Life",
      "tags": "Student, Miscellaneous",
      "audience": "both"
    },
    {
      "text": "Faculty Schedules (faculty)*",
      "href": "http://reporting12.nmh.nmhschool.org/ReportServer?%2fStudent+and+Faculty+Schedules%2fFacultyScheduleReport&rs:Command=Render",
      "category": "Employees",
      "tags": "Calendar, Schedule",
      "audience": "adults"
    },
    {
      "text": "Mail Center Hours",
      "href": "/the-hub/column-1/calendars-and-schedules/mail-center-hours",
      "category": "Calendars and Schedules",
      "tags": "Calendar, Schedule",
      "audience": "both"
    }
  ];
  var results = []; //the links that match the text
  var catagories = [];
  var current = [];
  var students = [];
  var employees = [];
  var stu = false;
  var emp = false;
  var all = true;

  $("#results").css('background-color','#111');

  //populate both students and employees arrays with correct links
  $.each(links, function(i, link){
    if(link.audience === "students" || link.audience === "both"){
      students.push(link);
    }
    if(link.audience === "adults" || link.audience === "both"){
      employees.push(link);
    }
  });

  //push all
  $.each(links, function(i, link){
      results.push(link);
  });

  //when typing a search, wait for keyup
  //when the keyup event is fired it deletes the previous results, and starts looking for new results with each keypress
  $("#search").keyup(function() {
    results = []; //reset the array
    $("#results").children().remove(); //reset the element
    var findText = $(this).val(); //gets text from input

    var currentMatch = [];

    if(current.length > 0){
      //only search through current catagory links
      $.each(current, function(i, link){
        if (current[i].text.toLowerCase().indexOf(findText) >= 0) {
          currentMatch.push(link);
        }
      });

      $.each(currentMatch, function(i, link){
        if(stu && (link.audience === "students" || link.audience === "both")){
          results.push(link);
        }else if(emp && (link.audience === "adults" || link.audience === "both")){
          results.push(link);
        }else if(all){
          results.push(link);
        }
      });
    }else{
    //only searches through relevent links (aka students or employees)
    if(stu){
      $.each(students, function(i, link){
        //if the current link's text includes the find text, add it to the array
        if (students[i].text.toLowerCase().indexOf(findText) >= 0) {
          results.push(link);
        }
      });
    }else if(emp){
      $.each(employees, function(i, link) {
        //if the current link's text includes the find text, add it to the array
        if (employees[i].text.toLowerCase().indexOf(findText) >= 0) {
          results.push(link);
        }
      });
    }else if(all){
    //loops through each element in links array
    $.each(links, function(i, link) {
      //if the current link's text includes the find text, add it to the array
      if (links[i].text.toLowerCase().indexOf(findText) >= 0) {
        results.push(link);
      }
    });
  }
}

if(results.length < 20 && results.length > 0){
  $("#results").css('background-color','#005b94');
  //after all the matching elements are found, add them to the results div
  $.each(results, function(i, link) {
    $("#results").append("<li><a href='" + link.href + "'>" + link.text + "</a></li>");
  });
}else{
  $("#results").css('background-color','#111');
}
  });


  //creates array of all the catagories
  $.each(links, function(i, link){
    if(!catagories.includes(links[i].category))
    {
      catagories.push(links[i].category);
    }
  });

  //create buttons for each catagory
  $.each(catagories, function(i, links){
    $(".btn-group-vertical").append('<button type="button" class="btn btn-secondary" id="' + links + '">' + links + '</button>');
  });

  //makes catagory buttons clickable
  $(".btn-secondary").on("click", function(){
    //clear search Bar
    $("#search").val("");

    //style selected catagory button
    $(".btn-secondary").css('background-color','#519dd0');
    $(this).css('background-color','#111');

    var currentId = this.id;
    var matching = [];
    current = [];
    $("#results").children().remove(); //reset the element
    $.each(links, function(i, link) {
      if (link.category === currentId) {
        current.push(link);
      }
    });
    if(stu){
      $.each(current, function(i, link){
        if(link.audience === "students" || link.audience === "both"){
          matching.push(link);
        }
      });
    }else if(emp){
      $.each(current, function(i, link){
        if(link.audience === "adults" || link.audience === "both"){
          matching.push(link);
        }
      });
    }else if(all){
      $.each(current, function(i, link){
          matching.push(link);
      });
    }
    if(matching.length < 20 && matching.length > 0){
      $("#results").css('background-color','#005b94');
      //after all the matching elements are found, add them to the results div
      $.each(matching, function(i, link) {
        $("#results").append("<li><a href='" + link.href + "'>" + link.text + "</a></li>");
      });
    }else{
      $("#results").css('background-color','#111');
    }
  });

  //student, all, employee buttons
  $(".btn-custom").on("click", function(){
    //change styling of correct button
    $(".btn-custom").css('background-color','#005b94');
    $(this).css('background-color','#519dd0');
    btnId = this.id;
    $("#results").children().remove(); //reset the element

    //set each variable to appropraite boolean value
    if(btnId === "students"){
      stu = true;
      emp = false;
      all = false;
    }else if(btnId === "employees"){
      emp = true;
      stu = false;
      all = false;
    }else if(btnId === "allBtn"){
      all = true;
      stu = false;
      emp = false;
    }

    //if something has been search, find the relevent links and only show those
    var relevent = [];
    var findText = $("#search").val(); //gets text from input

    if(current.length > 0){
      //only display links that are in the "current" array (have the currently selected catagory)
      if(btnId === "students"){
        $.each(current, function(i, link){
          if((link.audience === "students" || link.audience === "both") && current[i].text.toLowerCase().indexOf(findText) >= 0){
            //only push links for students or both
            relevent.push(link);
          }
        });
      }else if(btnId === "employees"){
        $.each(current, function(i, link){
          if((link.audience === "adults" || link.audience === "both") && current[i].text.toLowerCase().indexOf(findText) >= 0){
            //only push links for students or both
            relevent.push(link);
          }
        });
      }else{
        //push all
        $.each(current, function(i, link){
          if(current[i].text.toLowerCase().indexOf(findText) >= 0){
            relevent.push(link);
          }
        });
      }
    }else{
      //code below

      if(btnId === "students"){
        $.each(links, function(i, link){
          if((link.audience === "students" || link.audience === "both") && links[i].text.toLowerCase().indexOf(findText) >= 0){
            //only push links for students or both
            relevent.push(link);
          }
        });

      }else if(btnId === "employees"){
        $.each(links, function(i, link){
          if((link.audience === "adults" || link.audience === "both") && links[i].text.toLowerCase().indexOf(findText) >= 0){
            //only push links for students or both
            relevent.push(link);
          }
        });
      }else{
        //push all
        $.each(links, function(i, link){
          if(links[i].text.toLowerCase().indexOf(findText) >= 0){
            relevent.push(link);
          }
        });
      }
    }
      //after all relevent links  are found, add them to the results div
      if(relevent.length < 20 && relevent.length > 0){
        $("#results").css('background-color','#005b94');
        $.each(relevent, function(i, link) {
          $("#results").append("<li><a href='" + link.href + "'>" + link.text + "</a></li>");
        });
      }else{
        $("#results").css('background-color','#111');
      }

  });

});
